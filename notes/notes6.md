Ab aage kya ! 

To create a middleware using Multer, we can handle file uploads from the client side and then upload those files to Cloudinary using your existing function. 


This middleware will ensure that the file is processed and uploaded before continuing with the rest of your logic.


jaha jaha humein file upload capabilites ki jarurat hogi waha pe multer ko inject krdenge


Cloudinary is a utility for uploading files, but the file upload itself should be managed with a middleware in your server. 


So, you need to create a middleware that handles file uploading (via Multer), 
processes the file (uploads to Cloudinary), and then moves to the next step in the pipeline.


sabse pehle multer import kra lete h , then uske baad konsi destination woh usko batado

For more detailed study 

https://github.com/expressjs/multer?tab=readme-ov-file


frontend pe aise krna hai

```bash
<form action="/profile" method="post" enctype="multipart/form-data">
  <input type="file" name="avatar" />
</form>
```


sample Example

```bash

const express = require('express')
const multer  = require('multer')
const upload = multer({ dest: 'uploads/' })

const app = express()

app.post('/profile', upload.single('avatar'), function (req, res, next) {
  // req.file is the `avatar` file
  // req.body will hold the text fields, if there were any
})

```
Others uploads Realted stuff

- upload.array('photos', 12)
- upload.fields([{ name: 'avatar', maxCount: 1 }, { name: 'gallery', maxCount: 8 }])
- upload.none()


destination :: The folder to which the file has been saved -->	DiskStorage ( we prefer )


A Buffer of the entire file -->	MemoryStorage


hum puri ki puri entire file ko memory mein bhi store kr skte h and diskStorage mein bhi 


storing large files in memory can quickly fill up the system's memory if multiple files are uploaded, 

leading to potential performance issues or even out of memory errors



Memory Storage (memoryStorage) is faster but limited by server memory and can cause issues with large files.


Disk Storage (diskStorage) is more scalable, stores files on the disk, and is the recommended approach for handling large files or multiple file uploads.



ye jo ek user se reqquest aa rhi hai , ek  file access mil jata hai jiske andar saari files humein mil jaati h


req ke andar jo bhi body mein ayega jo bhi json data wo mil hi jaata hai and agar file bhi aa rhi hai , whi pe multer use hota h


kyuki req.body ke andar json data toh humne configure krdiya h , but file nhi hoti h
isliye multer use hota h , ya phir fileupload-express wo use hota h



In Multer, when you're using DiskStorage to store files, the file object returned in the callback contains information about the uploaded file.

```bash

{
  fieldname: 'file',         
  originalname: 'image.png', 
  encoding: '7bit',          
  mimetype: 'image/png',    
  destination: 'uploads/',   
  filename: 'abc123.png',  
  path: 'uploads/abc123.png' 
}

```

- fieldname: The name of the form field associated with the file (e.g., file).

- originalname: The name of the file as it was uploaded by the user

- encoding: The encoding type used for the file upload (typically 7bit)

- mimetype: The MIME type of the file, which indicates the file's type (e.g., image/png).

- destination: The directory where the file is stored.

- filename: The name of the file as it is saved on the disk (can be generated by Multer or specified).

- path: The full file path, combining the destination directory and the filename.

--------------------------------------------------


jab hum routes and controllers likhenge , agar hum expect kr rhe ki uss route pe files ayengi toh main uss route ke andar jaake , storage method call krayenge , toh humein file mil jayegi 


and uss file ko kaise access krna hai and kaise dena hai wo hum dekhenge


